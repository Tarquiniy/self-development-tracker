import{r as m,g as w}from"./vendor-gH-7aFTg.js";function p(i,a){for(var o=0;o<a.length;o++){const l=a[o];if(typeof l!="string"&&!Array.isArray(l)){for(const e in l)if(e!=="default"&&!(e in i)){const r=Object.getOwnPropertyDescriptor(l,e);r&&Object.defineProperty(i,e,r.get?r:{enumerable:!0,get:()=>l[e]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}var d={exports:{}},s={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g;function x(){if(g)return s;g=1;var i=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function o(l,e,r){var n=null;if(r!==void 0&&(n=""+r),e.key!==void 0&&(n=""+e.key),"key"in e){r={};for(var t in e)t!=="key"&&(r[t]=e[t])}else r=e;return e=r.ref,{$$typeof:i,type:l,key:n,ref:e!==void 0?e:null,props:r}}return s.Fragment=a,s.jsx=o,s.jsxs=o,s}var f;function v(){return f||(f=1,d.exports=x()),d.exports}var c=v(),u=m();const T=w(u),R=p({__proto__:null,default:T},[u]),_=({botName:i,onAuth:a,buttonSize:o="large",className:l=""})=>{const e=u.useRef(!1);u.useEffect(()=>{if(!i||e.current)return;const n=()=>{try{window.Telegram&&window.Telegram.Login&&(console.log("Initializing Telegram widget with bot:",i),window.Telegram.Login.auth({bot_id:i,request_access:"write",size:o},t=>{t&&t.id?(console.log("Telegram auth successful:",t),a(t)):console.error("Invalid Telegram user data received")}),e.current=!0)}catch(t){console.error("Error initializing Telegram widget:",t)}};if(window.Telegram)n();else{const t=setInterval(()=>{window.Telegram&&(clearInterval(t),n())},100);setTimeout(()=>clearInterval(t),5e3)}return()=>{e.current=!1}},[i,o,a]);const r=()=>{if(window.Telegram&&window.Telegram.Login)try{window.Telegram.Login.auth({bot_id:i,request_access:"write",size:o},n=>{n&&n.id&&a(n)})}catch(n){console.error("Error on manual Telegram auth:",n)}else console.error("Telegram widget not available"),window.open(`https://oauth.telegram.org/auth?bot_id=${i}&origin=${encodeURIComponent(window.location.origin)}`,"_blank")};return c.jsx("div",{className:`telegram-login ${l}`,children:c.jsxs("button",{onClick:r,className:"w-full flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[c.jsx("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm5.894 8.221l-1.97 9.28c-.145.658-.537.818-1.084.508l-3-2.21-1.447 1.394c-.16.16-.295.295-.605.295l.213-3.053 5.56-5.022c.242-.213-.054-.334-.373-.121l-6.869 4.326-2.96-.924c-.64-.203-.652-.64.136-.954l11.566-4.458c.538-.196 1.006.128.832.941z"})}),"Войти через Telegram"]})})};export{R,_ as T,c as j,u as r};
