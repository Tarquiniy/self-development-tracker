{% extends "admin/base.html" %}
{% load static %}

{% block title %}{{ title }} | {{ site_title|default:_('Django site admin') }}{% endblock %}

{% block branding %}
<h1 id="site-name">
    <a href="{% url 'admin:index' %}">
        <img src="{% static 'admin/img/logo.png' %}" alt="Positive Theta" height="40" style="margin-right: 10px;">
        Positive Theta Admin
    </a>
</h1>
{% endblock %}

{% block nav-global %}
{% endblock %}

{% block extrastyle %}
{{ block.super }}
<link rel="stylesheet" href="{% static 'admin/css/grappelli-custom.css' %}">
<style>
    /* Дополнительные кастомные стили для Grappelli */
    .grp-module h2 {
        background: #2c3e50;
        color: white;
    }
    
    .status-badge {
        padding: 4px 8px;
        border-radius: 12px;
        font-size: 0.75rem;
        font-weight: 600;
        text-transform: uppercase;
    }
    
    .status-published {
        background: #d4edda;
        color: #155724;
        border: 1px solid #c3e6cb;
    }
    
    .status-draft {
        background: #fff3cd;
        color: #856404;
        border: 1px solid #ffeaa7;
    }
    
    .status-archived {
        background: #f8d7da;
        color: #721c24;
        border: 1px solid #f5c6cb;
    }
    
    /* Улучшения для CKEditor */
    .ck-editor__editable {
        min-height: 400px;
        font-size: 16px;
        line-height: 1.6;
    }
    
    .ck.ck-editor {
        border-radius: 8px;
        overflow: hidden;
        margin-bottom: 1rem;
    }
    
    /* Карточки для медиа библиотеки */
    .media-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: 1rem;
        margin: 1rem 0;
    }
    
    .media-item {
        border: 1px solid #ddd;
        border-radius: 8px;
        padding: 1rem;
        text-align: center;
        background: white;
        transition: transform 0.2s;
    }
    
    .media-item:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    
    .media-thumbnail {
        max-width: 100%;
        height: 150px;
        object-fit: cover;
        border-radius: 4px;
    }
    
    /* Адаптивность */
    @media (max-width: 768px) {
        .media-grid {
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
        }
    }
</style>
{% endblock %}

{% block extrahead %}
{{ block.super }}
<script src="{% static 'admin/js/grappelli-custom.js' %}"></script>
<script>
// Глобальные JavaScript утилиты
document.addEventListener('DOMContentLoaded', function() {
    // Добавляем обработчики для статус-бейджей
    const statusBadges = document.querySelectorAll('.status-badge');
    statusBadges.forEach(badge => {
        badge.style.margin = '2px 0';
    });
    
    // Улучшаем таблицы
    const tables = document.querySelectorAll('table.grp-table');
    tables.forEach(table => {
        table.classList.add('grp-table-striped');
    });
});
</script>
{% endblock %}