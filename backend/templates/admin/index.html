{% extends "admin/index.html" %}
{% load i18n static %}
{% block content %}
  <div class="pt-dashboard container">
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
      <div class="card">
        <div class="card-title">Посты</div>
        <div class="card-value">{{ app_list|default_if_none:[]|length }}</div>
        <div class="card-meta">Общее количество сущностей в приложении blog</div>
      </div>

      <div class="card">
        <div class="card-title">Недавние просмотры</div>
        <div class="card-value">—</div>
        <div class="card-meta">Интеграция аналитики (placeholder)</div>
      </div>

      <div class="card">
        <div class="card-title">Быстрые действия</div>
        <div class="card-actions">
          <a class="pt-action" href="{% url 'admin:blog_post_add' %}">Новый пост</a>
          <a class="pt-action" href="{% url 'admin:blog_category_add' %}">Новая категория</a>
        </div>
      </div>
    </div>

    <div class="panel">
      <h3>Приложения</h3>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
        {% for app in app_list %}
          <div class="app-card">
            <div class="app-card-header">
              <strong>{{ app.name }}</strong>
              <span class="count">{{ app.models|length }}</span>
            </div>
            <ul class="app-models">
              {% for model in app.models %}
                <li><a href="{{ model.admin_url }}">{{ model.name }}</a></li>
              {% endfor %}
            </ul>
          </div>
        {% endfor %}
      </div>
    </div>
  </div>
{% endblock %}
