{% raw %}{% extends "admin/base_site.html" %}
<h1>Панель управления</h1>
<div class="dashboard-actions">
<a class="btn btn-primary" href="{% url 'admin:blog_post_add' %}">Создать пост</a>
<a class="btn" href="{% url 'admin:blog_post_changelist' %}">Все посты</a>
<a class="btn" href="{% url 'admin:admin-dashboard-stats' %}">Обновить</a>
</div>
</header>


<section class="dashboard-stats">
<div class="stat-card">
<div class="stat-value" id="stat-posts">{{ posts_count }}</div>
<div class="stat-label">Всего постов</div>
</div>
<div class="stat-card">
<div class="stat-value" id="stat-comments">{{ comments_count }}</div>
<div class="stat-label">Комментариев</div>
</div>
<div class="stat-card">
<div class="stat-value" id="stat-users">{{ users_count }}</div>
<div class="stat-label">Пользователей</div>
</div>
</section>


<section class="dashboard-main">
<div class="panel panel-left">
<h2>Активность — последние 30 дней</h2>
<canvas id="dashboardChart" height="140"></canvas>
</div>


<div class="panel panel-right">
<h2>Быстрые ссылки</h2>
<ul class="quick-links">
<li><a href="{% url 'admin:blog_post_add' %}">Создать новый пост</a></li>
<li><a href="{% url 'admin:blog_post_changelist' %}">Список постов</a></li>
<li><a href="{% url 'admin-media-library' %}">Медиатека</a></li>
</ul>


<h2>Последние изменения</h2>
<div id="recent-changes">
<!-- можно расширить — сейчас показывает ссылку на список постов -->
<p>См. <a href="{% url 'admin:blog_post_changelist' %}">все посты</a> для подробного списка.</p>
</div>
</div>
</section>


<footer class="dashboard-footer">
<small>Admin dashboard — быстрый обзор сайта.</small>
</footer>
</div>


<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
<script src="{% static 'admin/js/dashboard.js' %}"></script>
{% endblock %}
{% endraw %}