import{r as rt,g as ee,a as kt}from"./vendor-DgTrhVr3.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var me={exports:{}},K={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fe;function Pt(){if(Fe)return K;Fe=1;var e=rt(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(l,i,c){var h,f={},m=null,p=null;c!==void 0&&(m=""+c),i.key!==void 0&&(m=""+i.key),i.ref!==void 0&&(p=i.ref);for(h in i)n.call(i,h)&&!a.hasOwnProperty(h)&&(f[h]=i[h]);if(l&&l.defaultProps)for(h in i=l.defaultProps,i)f[h]===void 0&&(f[h]=i[h]);return{$$typeof:t,type:l,key:m,ref:p,props:f,_owner:s.current}}return K.Fragment=r,K.jsx=o,K.jsxs=o,K}var He;function Nt(){return He||(He=1,me.exports=Pt()),me.exports}var u=Nt(),d=rt();const L=ee(d);var ne={},Ue;function $t(){if(Ue)return ne;Ue=1;var e=kt();return ne.createRoot=e.createRoot,ne.hydrateRoot=e.hydrateRoot,ne}var Lt=$t();const Ot=ee(Lt);/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var qe="popstate";function At(e={}){function t(n,s){let{pathname:a,search:o,hash:l}=n.location;return Ee("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Q(s)}return It(t,r,null,e)}function C(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function P(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function _t(){return Math.random().toString(36).substring(2,10)}function Be(e,t){return{usr:e.state,key:e.key,idx:t}}function Ee(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?J(t):t,state:r,key:t&&t.key||n||_t()}}function Q({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function J(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function It(e,t,r,n={}){let{window:s=document.defaultView,v5Compat:a=!1}=n,o=s.history,l="POP",i=null,c=h();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function h(){return(o.state||{idx:null}).idx}function f(){l="POP";let v=h(),x=v==null?null:v-c;c=v,i&&i({action:l,location:w.location,delta:x})}function m(v,x){l="PUSH";let y=Ee(w.location,v,x);c=h()+1;let g=Be(y,c),E=w.createHref(y);try{o.pushState(g,"",E)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(E)}a&&i&&i({action:l,location:w.location,delta:1})}function p(v,x){l="REPLACE";let y=Ee(w.location,v,x);c=h();let g=Be(y,c),E=w.createHref(y);o.replaceState(g,"",E),a&&i&&i({action:l,location:w.location,delta:0})}function b(v){return Mt(v)}let w={get action(){return l},get location(){return e(s,o)},listen(v){if(i)throw new Error("A history only accepts one active listener");return s.addEventListener(qe,f),i=v,()=>{s.removeEventListener(qe,f),i=null}},createHref(v){return t(s,v)},createURL:b,encodeLocation(v){let x=b(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:p,go(v){return o.go(v)}};return w}function Mt(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),C(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Q(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function nt(e,t,r="/"){return Dt(e,t,r,!1)}function Dt(e,t,r,n){let s=typeof t=="string"?J(t):t,a=A(s.pathname||"/",r);if(a==null)return null;let o=at(e);Ft(o);let l=null;for(let i=0;l==null&&i<o.length;++i){let c=Gt(a);l=Kt(o[i],c,n)}return l}function at(e,t=[],r=[],n="",s=!1){let a=(o,l,i=s,c)=>{let h={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(n)&&i)return;C(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length)}let f=O([n,h.relativePath]),m=r.concat(h);o.children&&o.children.length>0&&(C(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),at(o.children,t,m,f,i)),!(o.path==null&&!o.index)&&t.push({path:f,score:zt(f,o.index),routesMeta:m})};return e.forEach((o,l)=>{if(o.path===""||!o.path?.includes("?"))a(o,l);else for(let i of st(o.path))a(o,l,!0,i)}),t}function st(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let o=st(n.join("/")),l=[];return l.push(...o.map(i=>i===""?a:[a,i].join("/"))),s&&l.push(...o),l.map(i=>e.startsWith("/")&&i===""?"/":i)}function Ft(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Vt(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var Ht=/^:[\w-]+$/,Ut=3,qt=2,Bt=1,Wt=10,Jt=-2,We=e=>e==="*";function zt(e,t){let r=e.split("/"),n=r.length;return r.some(We)&&(n+=Jt),t&&(n+=qt),r.filter(s=>!We(s)).reduce((s,a)=>s+(Ht.test(a)?Ut:a===""?Bt:Wt),n)}function Vt(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Kt(e,t,r=!1){let{routesMeta:n}=e,s={},a="/",o=[];for(let l=0;l<n.length;++l){let i=n[l],c=l===n.length-1,h=a==="/"?t:t.slice(a.length)||"/",f=ue({path:i.relativePath,caseSensitive:i.caseSensitive,end:c},h),m=i.route;if(!f&&c&&r&&!n[n.length-1].route.index&&(f=ue({path:i.relativePath,caseSensitive:i.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:O([a,f.pathname]),pathnameBase:er(O([a,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(a=O([a,f.pathnameBase]))}return o}function ue(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Yt(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((c,{paramName:h,isOptional:f},m)=>{if(h==="*"){let b=l[m]||"";o=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const p=l[m];return f&&!p?c[h]=void 0:c[h]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:o,pattern:e}}function Yt(e,t=!1,r=!0){P(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,i)=>(n.push({paramName:l,isOptional:i!=null}),i?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function Gt(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return P(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function A(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Zt(e,t="/"){let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?J(e):e;return{pathname:r?r.startsWith("/")?r:Xt(r,t):t,search:tr(n),hash:rr(s)}}function Xt(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function pe(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Qt(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Ne(e){let t=Qt(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function $e(e,t,r,n=!1){let s;typeof e=="string"?s=J(e):(s={...e},C(!s.pathname||!s.pathname.includes("?"),pe("?","pathname","search",s)),C(!s.pathname||!s.pathname.includes("#"),pe("#","pathname","hash",s)),C(!s.search||!s.search.includes("#"),pe("#","search","hash",s)));let a=e===""||s.pathname==="",o=a?"/":s.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}l=f>=0?t[f]:"/"}let i=Zt(s,l),c=o&&o!=="/"&&o.endsWith("/"),h=(a||o===".")&&r.endsWith("/");return!i.pathname.endsWith("/")&&(c||h)&&(i.pathname+="/"),i}var O=e=>e.join("/").replace(/\/\/+/g,"/"),er=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),tr=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,rr=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function nr(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var ot=["POST","PUT","PATCH","DELETE"];new Set(ot);var ar=["GET",...ot];new Set(ar);var z=d.createContext(null);z.displayName="DataRouter";var ce=d.createContext(null);ce.displayName="DataRouterState";d.createContext(!1);var it=d.createContext({isTransitioning:!1});it.displayName="ViewTransition";var sr=d.createContext(new Map);sr.displayName="Fetchers";var or=d.createContext(null);or.displayName="Await";var N=d.createContext(null);N.displayName="Navigation";var te=d.createContext(null);te.displayName="Location";var $=d.createContext({outlet:null,matches:[],isDataRoute:!1});$.displayName="Route";var Le=d.createContext(null);Le.displayName="RouteError";function ir(e,{relative:t}={}){C(V(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=d.useContext(N),{hash:s,pathname:a,search:o}=re(e,{relative:t}),l=a;return r!=="/"&&(l=a==="/"?r:O([r,a])),n.createHref({pathname:l,search:o,hash:s})}function V(){return d.useContext(te)!=null}function M(){return C(V(),"useLocation() may be used only in the context of a <Router> component."),d.useContext(te).location}var lt="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ut(e){d.useContext(N).static||d.useLayoutEffect(e)}function de(){let{isDataRoute:e}=d.useContext($);return e?wr():lr()}function lr(){C(V(),"useNavigate() may be used only in the context of a <Router> component.");let e=d.useContext(z),{basename:t,navigator:r}=d.useContext(N),{matches:n}=d.useContext($),{pathname:s}=M(),a=JSON.stringify(Ne(n)),o=d.useRef(!1);return ut(()=>{o.current=!0}),d.useCallback((i,c={})=>{if(P(o.current,lt),!o.current)return;if(typeof i=="number"){r.go(i);return}let h=$e(i,JSON.parse(a),s,c.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:O([t,h.pathname])),(c.replace?r.replace:r.push)(h,c.state,c)},[t,r,a,s,e])}d.createContext(null);function ur(){let{matches:e}=d.useContext($),t=e[e.length-1];return t?t.params:{}}function re(e,{relative:t}={}){let{matches:r}=d.useContext($),{pathname:n}=M(),s=JSON.stringify(Ne(r));return d.useMemo(()=>$e(e,JSON.parse(s),n,t==="path"),[e,s,n,t])}function cr(e,t){return ct(e,t)}function ct(e,t,r,n,s){C(V(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=d.useContext(N),{matches:o}=d.useContext($),l=o[o.length-1],i=l?l.params:{},c=l?l.pathname:"/",h=l?l.pathnameBase:"/",f=l&&l.route;{let y=f&&f.path||"";dt(c,!f||y.endsWith("*")||y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${y}"> to <Route path="${y==="/"?"*":`${y}/*`}">.`)}let m=M(),p;if(t){let y=typeof t=="string"?J(t):t;C(h==="/"||y.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${y.pathname}" was given in the \`location\` prop.`),p=y}else p=m;let b=p.pathname||"/",w=b;if(h!=="/"){let y=h.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(y.length).join("/")}let v=nt(e,{pathname:w});P(f||v!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),P(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=pr(v&&v.map(y=>Object.assign({},y,{params:Object.assign({},i,y.params),pathname:O([h,a.encodeLocation?a.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?h:O([h,a.encodeLocation?a.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,r,n,s);return t&&x?d.createElement(te.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},x):x}function dr(){let e=br(),t=nr(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=d.createElement(d.Fragment,null,d.createElement("p",null,"💿 Hey developer 👋"),d.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",d.createElement("code",{style:a},"ErrorBoundary")," or"," ",d.createElement("code",{style:a},"errorElement")," prop on your route.")),d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},t),r?d.createElement("pre",{style:s},r):null,o)}var hr=d.createElement(dr,null),fr=class extends d.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?d.createElement($.Provider,{value:this.props.routeContext},d.createElement(Le.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function mr({routeContext:e,match:t,children:r}){let n=d.useContext(z);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),d.createElement($.Provider,{value:e},r)}function pr(e,t=[],r=null,n=null,s=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,o=r?.errors;if(o!=null){let c=a.findIndex(h=>h.route.id&&o?.[h.route.id]!==void 0);C(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,i=-1;if(r)for(let c=0;c<a.length;c++){let h=a[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(i=c),h.route.id){let{loaderData:f,errors:m}=r,p=h.route.loader&&!f.hasOwnProperty(h.route.id)&&(!m||m[h.route.id]===void 0);if(h.route.lazy||p){l=!0,i>=0?a=a.slice(0,i+1):a=[a[0]];break}}}return a.reduceRight((c,h,f)=>{let m,p=!1,b=null,w=null;r&&(m=o&&h.route.id?o[h.route.id]:void 0,b=h.route.errorElement||hr,l&&(i<0&&f===0?(dt("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,w=null):i===f&&(p=!0,w=h.route.hydrateFallbackElement||null)));let v=t.concat(a.slice(0,f+1)),x=()=>{let y;return m?y=b:p?y=w:h.route.Component?y=d.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=c,d.createElement(mr,{match:h,routeContext:{outlet:c,matches:v,isDataRoute:r!=null},children:y})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?d.createElement(fr,{location:r.location,revalidation:r.revalidation,component:b,error:m,children:x(),routeContext:{outlet:null,matches:v,isDataRoute:!0},unstable_onError:n}):x()},null)}function Oe(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gr(e){let t=d.useContext(z);return C(t,Oe(e)),t}function yr(e){let t=d.useContext(ce);return C(t,Oe(e)),t}function vr(e){let t=d.useContext($);return C(t,Oe(e)),t}function Ae(e){let t=vr(e),r=t.matches[t.matches.length-1];return C(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function xr(){return Ae("useRouteId")}function br(){let e=d.useContext(Le),t=yr("useRouteError"),r=Ae("useRouteError");return e!==void 0?e:t.errors?.[r]}function wr(){let{router:e}=gr("useNavigate"),t=Ae("useNavigate"),r=d.useRef(!1);return ut(()=>{r.current=!0}),d.useCallback(async(s,a={})=>{P(r.current,lt),r.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...a}))},[e,t])}var Je={};function dt(e,t,r){!t&&!Je[e]&&(Je[e]=!0,P(!1,r))}d.memo(Cr);function Cr({routes:e,future:t,state:r,unstable_onError:n}){return ct(e,void 0,r,n,t)}function Te({to:e,replace:t,state:r,relative:n}){C(V(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=d.useContext(N);P(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=d.useContext($),{pathname:o}=M(),l=de(),i=$e(e,Ne(a),o,n==="path"),c=JSON.stringify(i);return d.useEffect(()=>{l(JSON.parse(c),{replace:t,state:r,relative:n})},[l,c,n,t,r]),null}function I(e){C(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Er({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:s,static:a=!1}){C(!V(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),l=d.useMemo(()=>({basename:o,navigator:s,static:a,future:{}}),[o,s,a]);typeof r=="string"&&(r=J(r));let{pathname:i="/",search:c="",hash:h="",state:f=null,key:m="default"}=r,p=d.useMemo(()=>{let b=A(i,o);return b==null?null:{location:{pathname:b,search:c,hash:h,state:f,key:m},navigationType:n}},[o,i,c,h,f,m,n]);return P(p!=null,`<Router basename="${o}"> is not able to match the URL "${i}${c}${h}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:d.createElement(N.Provider,{value:l},d.createElement(te.Provider,{children:t,value:p}))}function Tr({children:e,location:t}){return cr(je(e),t)}function je(e,t=[]){let r=[];return d.Children.forEach(e,(n,s)=>{if(!d.isValidElement(n))return;let a=[...t,s];if(n.type===d.Fragment){r.push.apply(r,je(n.props.children,a));return}C(n.type===I,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),C(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=je(n.props.children,a)),r.push(o)}),r}var oe="get",ie="application/x-www-form-urlencoded";function he(e){return e!=null&&typeof e.tagName=="string"}function jr(e){return he(e)&&e.tagName.toLowerCase()==="button"}function Sr(e){return he(e)&&e.tagName.toLowerCase()==="form"}function Rr(e){return he(e)&&e.tagName.toLowerCase()==="input"}function kr(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Pr(e,t){return e.button===0&&(!t||t==="_self")&&!kr(e)}var ae=null;function Nr(){if(ae===null)try{new FormData(document.createElement("form"),0),ae=!1}catch{ae=!0}return ae}var $r=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ge(e){return e!=null&&!$r.has(e)?(P(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ie}"`),null):e}function Lr(e,t){let r,n,s,a,o;if(Sr(e)){let l=e.getAttribute("action");n=l?A(l,t):null,r=e.getAttribute("method")||oe,s=ge(e.getAttribute("enctype"))||ie,a=new FormData(e)}else if(jr(e)||Rr(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let i=e.getAttribute("formaction")||l.getAttribute("action");if(n=i?A(i,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||oe,s=ge(e.getAttribute("formenctype"))||ge(l.getAttribute("enctype"))||ie,a=new FormData(l,e),!Nr()){let{name:c,type:h,value:f}=e;if(h==="image"){let m=c?`${c}.`:"";a.append(`${m}x`,"0"),a.append(`${m}y`,"0")}else c&&a.append(c,f)}}else{if(he(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=oe,n=null,s=ie,o=e}return a&&s==="text/plain"&&(o=a,a=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function _e(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Or(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&A(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function Ar(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _r(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Ir(e,t,r){let n=await Promise.all(e.map(async s=>{let a=t.routes[s.route.id];if(a){let o=await Ar(a,r);return o.links?o.links():[]}return[]}));return Hr(n.flat(1).filter(_r).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function ze(e,t,r,n,s,a){let o=(i,c)=>r[c]?i.route.id!==r[c].route.id:!0,l=(i,c)=>r[c].pathname!==i.pathname||r[c].route.path?.endsWith("*")&&r[c].params["*"]!==i.params["*"];return a==="assets"?t.filter((i,c)=>o(i,c)||l(i,c)):a==="data"?t.filter((i,c)=>{let h=n.routes[i.route.id];if(!h||!h.hasLoader)return!1;if(o(i,c)||l(i,c))return!0;if(i.route.shouldRevalidate){let f=i.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:i.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function Mr(e,t,{includeHydrateFallback:r}={}){return Dr(e.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function Dr(e){return[...new Set(e)]}function Fr(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function Hr(e,t){let r=new Set;return new Set(t),e.reduce((n,s)=>{let a=JSON.stringify(Fr(s));return r.has(a)||(r.add(a),n.push({key:a,link:s})),n},[])}function ht(){let e=d.useContext(z);return _e(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Ur(){let e=d.useContext(ce);return _e(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Ie=d.createContext(void 0);Ie.displayName="FrameworkContext";function ft(){let e=d.useContext(Ie);return _e(e,"You must render this element inside a <HydratedRouter> element"),e}function qr(e,t){let r=d.useContext(Ie),[n,s]=d.useState(!1),[a,o]=d.useState(!1),{onFocus:l,onBlur:i,onMouseEnter:c,onMouseLeave:h,onTouchStart:f}=t,m=d.useRef(null);d.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let w=x=>{x.forEach(y=>{o(y.isIntersecting)})},v=new IntersectionObserver(w,{threshold:.5});return m.current&&v.observe(m.current),()=>{v.disconnect()}}},[e]),d.useEffect(()=>{if(n){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[n]);let p=()=>{s(!0)},b=()=>{s(!1),o(!1)};return r?e!=="intent"?[a,m,{}]:[a,m,{onFocus:Y(l,p),onBlur:Y(i,b),onMouseEnter:Y(c,p),onMouseLeave:Y(h,b),onTouchStart:Y(f,p)}]:[!1,m,{}]}function Y(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function Br({page:e,...t}){let{router:r}=ht(),n=d.useMemo(()=>nt(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?d.createElement(Jr,{page:e,matches:n,...t}):null}function Wr(e){let{manifest:t,routeModules:r}=ft(),[n,s]=d.useState([]);return d.useEffect(()=>{let a=!1;return Ir(e,t,r).then(o=>{a||s(o)}),()=>{a=!0}},[e,t,r]),n}function Jr({page:e,matches:t,...r}){let n=M(),{manifest:s,routeModules:a}=ft(),{basename:o}=ht(),{loaderData:l,matches:i}=Ur(),c=d.useMemo(()=>ze(e,t,i,s,n,"data"),[e,t,i,s,n]),h=d.useMemo(()=>ze(e,t,i,s,n,"assets"),[e,t,i,s,n]),f=d.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let b=new Set,w=!1;if(t.forEach(x=>{let y=s.routes[x.route.id];!y||!y.hasLoader||(!c.some(g=>g.route.id===x.route.id)&&x.route.id in l&&a[x.route.id]?.shouldRevalidate||y.hasClientLoader?w=!0:b.add(x.route.id))}),b.size===0)return[];let v=Or(e,o,"data");return w&&b.size>0&&v.searchParams.set("_routes",t.filter(x=>b.has(x.route.id)).map(x=>x.route.id).join(",")),[v.pathname+v.search]},[o,l,n,s,c,t,e,a]),m=d.useMemo(()=>Mr(h,s),[h,s]),p=Wr(h);return d.createElement(d.Fragment,null,f.map(b=>d.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...r})),m.map(b=>d.createElement("link",{key:b,rel:"modulepreload",href:b,...r})),p.map(({key:b,link:w})=>d.createElement("link",{key:b,nonce:r.nonce,...w})))}function zr(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var mt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{mt&&(window.__reactRouterVersion="7.9.1")}catch{}function Vr({basename:e,children:t,window:r}){let n=d.useRef();n.current==null&&(n.current=At({window:r,v5Compat:!0}));let s=n.current,[a,o]=d.useState({action:s.action,location:s.location}),l=d.useCallback(i=>{d.startTransition(()=>o(i))},[o]);return d.useLayoutEffect(()=>s.listen(l),[s,l]),d.createElement(Er,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:s})}var pt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,R=d.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:s,reloadDocument:a,replace:o,state:l,target:i,to:c,preventScrollReset:h,viewTransition:f,...m},p){let{basename:b}=d.useContext(N),w=typeof c=="string"&&pt.test(c),v,x=!1;if(typeof c=="string"&&w&&(v=c,mt))try{let T=new URL(window.location.href),_=c.startsWith("//")?new URL(T.protocol+c):new URL(c),De=A(_.pathname,b);_.origin===T.origin&&De!=null?c=De+_.search+_.hash:x=!0}catch{P(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=ir(c,{relative:s}),[g,E,j]=qr(n,m),D=Zr(c,{replace:o,state:l,target:i,preventScrollReset:h,relative:s,viewTransition:f});function F(T){t&&t(T),T.defaultPrevented||D(T)}let U=d.createElement("a",{...m,...j,href:v||y,onClick:x||a?t:F,ref:zr(p,E),target:i,"data-discover":!w&&r==="render"?"true":void 0});return g&&!w?d.createElement(d.Fragment,null,U,d.createElement(Br,{page:y})):U});R.displayName="Link";var Kr=d.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:s=!1,style:a,to:o,viewTransition:l,children:i,...c},h){let f=re(o,{relative:c.relative}),m=M(),p=d.useContext(ce),{navigator:b,basename:w}=d.useContext(N),v=p!=null&&rn(f)&&l===!0,x=b.encodeLocation?b.encodeLocation(f).pathname:f.pathname,y=m.pathname,g=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;r||(y=y.toLowerCase(),g=g?g.toLowerCase():null,x=x.toLowerCase()),g&&w&&(g=A(g,w)||g);const E=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let j=y===x||!s&&y.startsWith(x)&&y.charAt(E)==="/",D=g!=null&&(g===x||!s&&g.startsWith(x)&&g.charAt(x.length)==="/"),F={isActive:j,isPending:D,isTransitioning:v},U=j?t:void 0,T;typeof n=="function"?T=n(F):T=[n,j?"active":null,D?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let _=typeof a=="function"?a(F):a;return d.createElement(R,{...c,"aria-current":U,className:T,ref:h,style:_,to:o,viewTransition:l},typeof i=="function"?i(F):i)});Kr.displayName="NavLink";var Yr=d.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:s,state:a,method:o=oe,action:l,onSubmit:i,relative:c,preventScrollReset:h,viewTransition:f,...m},p)=>{let b=en(),w=tn(l,{relative:c}),v=o.toLowerCase()==="get"?"get":"post",x=typeof l=="string"&&pt.test(l),y=g=>{if(i&&i(g),g.defaultPrevented)return;g.preventDefault();let E=g.nativeEvent.submitter,j=E?.getAttribute("formmethod")||o;b(E||g.currentTarget,{fetcherKey:t,method:j,navigate:r,replace:s,state:a,relative:c,preventScrollReset:h,viewTransition:f})};return d.createElement("form",{ref:p,method:v,action:w,onSubmit:n?i:y,...m,"data-discover":!x&&e==="render"?"true":void 0})});Yr.displayName="Form";function Gr(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gt(e){let t=d.useContext(z);return C(t,Gr(e)),t}function Zr(e,{target:t,replace:r,state:n,preventScrollReset:s,relative:a,viewTransition:o}={}){let l=de(),i=M(),c=re(e,{relative:a});return d.useCallback(h=>{if(Pr(h,t)){h.preventDefault();let f=r!==void 0?r:Q(i)===Q(c);l(e,{replace:f,state:n,preventScrollReset:s,relative:a,viewTransition:o})}},[i,l,c,r,n,t,e,s,a,o])}var Xr=0,Qr=()=>`__${String(++Xr)}__`;function en(){let{router:e}=gt("useSubmit"),{basename:t}=d.useContext(N),r=xr();return d.useCallback(async(n,s={})=>{let{action:a,method:o,encType:l,formData:i,body:c}=Lr(n,t);if(s.navigate===!1){let h=s.fetcherKey||Qr();await e.fetch(h,r,s.action||a,{preventScrollReset:s.preventScrollReset,formData:i,body:c,formMethod:s.method||o,formEncType:s.encType||l,flushSync:s.flushSync})}else await e.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:i,body:c,formMethod:s.method||o,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,r])}function tn(e,{relative:t}={}){let{basename:r}=d.useContext(N),n=d.useContext($);C(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),a={...re(e||".",{relative:t})},o=M();if(e==null){a.search=o.search;let l=new URLSearchParams(a.search),i=l.getAll("index");if(i.some(h=>h==="")){l.delete("index"),i.filter(f=>f).forEach(f=>l.append("index",f));let h=l.toString();a.search=h?`?${h}`:""}}return(!e||e===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:O([r,a.pathname])),Q(a)}function rn(e,{relative:t}={}){let r=d.useContext(it);C(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=gt("useViewTransitionState"),s=re(e,{relative:t});if(!r.isTransitioning)return!1;let a=A(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=A(r.nextLocation.pathname,n)||r.nextLocation.pathname;return ue(s.pathname,o)!=null||ue(s.pathname,a)!=null}const nn=()=>{const e=!!localStorage.getItem("accessToken");return u.jsx("header",{className:"app-header",children:u.jsxs("div",{className:"container",style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[u.jsx(R,{to:"/",className:"logo",children:"Positive Theta"}),u.jsxs("nav",{className:"nav",children:[u.jsx(R,{to:"/blog",children:"Блог"}),e?u.jsxs(u.Fragment,{children:[u.jsx(R,{to:"/dashboard",children:"Дэшборд"}),u.jsx("button",{className:"btn ghost",onClick:()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),window.location.href="/login"},children:"Выйти"})]}):u.jsxs(u.Fragment,{children:[u.jsx(R,{to:"/login",children:"Войти"}),u.jsx(R,{to:"/register",children:"Регистрация"})]})]})]})})};var ye,Ve;function an(){if(Ve)return ye;Ve=1;var e=typeof Element<"u",t=typeof Map=="function",r=typeof Set=="function",n=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function s(a,o){if(a===o)return!0;if(a&&o&&typeof a=="object"&&typeof o=="object"){if(a.constructor!==o.constructor)return!1;var l,i,c;if(Array.isArray(a)){if(l=a.length,l!=o.length)return!1;for(i=l;i--!==0;)if(!s(a[i],o[i]))return!1;return!0}var h;if(t&&a instanceof Map&&o instanceof Map){if(a.size!==o.size)return!1;for(h=a.entries();!(i=h.next()).done;)if(!o.has(i.value[0]))return!1;for(h=a.entries();!(i=h.next()).done;)if(!s(i.value[1],o.get(i.value[0])))return!1;return!0}if(r&&a instanceof Set&&o instanceof Set){if(a.size!==o.size)return!1;for(h=a.entries();!(i=h.next()).done;)if(!o.has(i.value[0]))return!1;return!0}if(n&&ArrayBuffer.isView(a)&&ArrayBuffer.isView(o)){if(l=a.length,l!=o.length)return!1;for(i=l;i--!==0;)if(a[i]!==o[i])return!1;return!0}if(a.constructor===RegExp)return a.source===o.source&&a.flags===o.flags;if(a.valueOf!==Object.prototype.valueOf&&typeof a.valueOf=="function"&&typeof o.valueOf=="function")return a.valueOf()===o.valueOf();if(a.toString!==Object.prototype.toString&&typeof a.toString=="function"&&typeof o.toString=="function")return a.toString()===o.toString();if(c=Object.keys(a),l=c.length,l!==Object.keys(o).length)return!1;for(i=l;i--!==0;)if(!Object.prototype.hasOwnProperty.call(o,c[i]))return!1;if(e&&a instanceof Element)return!1;for(i=l;i--!==0;)if(!((c[i]==="_owner"||c[i]==="__v"||c[i]==="__o")&&a.$$typeof)&&!s(a[c[i]],o[c[i]]))return!1;return!0}return a!==a&&o!==o}return ye=function(o,l){try{return s(o,l)}catch(i){if((i.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw i}},ye}var sn=an();const on=ee(sn);var ve,Ke;function ln(){if(Ke)return ve;Ke=1;var e=function(t,r,n,s,a,o,l,i){if(!t){var c;if(r===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var h=[n,s,a,o,l,i],f=0;c=new Error(r.replace(/%s/g,function(){return h[f++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}};return ve=e,ve}var un=ln();const Ye=ee(un);var xe,Ge;function cn(){return Ge||(Ge=1,xe=function(t,r,n,s){var a=n?n.call(s,t,r):void 0;if(a!==void 0)return!!a;if(t===r)return!0;if(typeof t!="object"||!t||typeof r!="object"||!r)return!1;var o=Object.keys(t),l=Object.keys(r);if(o.length!==l.length)return!1;for(var i=Object.prototype.hasOwnProperty.bind(r),c=0;c<o.length;c++){var h=o[c];if(!i(h))return!1;var f=t[h],m=r[h];if(a=n?n.call(s,f,m,h):void 0,a===!1||a===void 0&&f!==m)return!1}return!0}),xe}var dn=cn();const hn=ee(dn);var yt=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(yt||{}),be={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},Ze=Object.values(yt),Me={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},fn=Object.entries(Me).reduce((e,[t,r])=>(e[r]=t,e),{}),k="data-rh",B={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},W=(e,t)=>{for(let r=e.length-1;r>=0;r-=1){const n=e[r];if(Object.prototype.hasOwnProperty.call(n,t))return n[t]}return null},mn=e=>{let t=W(e,"title");const r=W(e,B.TITLE_TEMPLATE);if(Array.isArray(t)&&(t=t.join("")),r&&t)return r.replace(/%s/g,()=>t);const n=W(e,B.DEFAULT_TITLE);return t||n||void 0},pn=e=>W(e,B.ON_CHANGE_CLIENT_STATE)||(()=>{}),we=(e,t)=>t.filter(r=>typeof r[e]<"u").map(r=>r[e]).reduce((r,n)=>({...r,...n}),{}),gn=(e,t)=>t.filter(r=>typeof r.base<"u").map(r=>r.base).reverse().reduce((r,n)=>{if(!r.length){const s=Object.keys(n);for(let a=0;a<s.length;a+=1){const l=s[a].toLowerCase();if(e.indexOf(l)!==-1&&n[l])return r.concat(n)}}return r},[]),yn=e=>console&&typeof console.warn=="function"&&console.warn(e),G=(e,t,r)=>{const n={};return r.filter(s=>Array.isArray(s[e])?!0:(typeof s[e]<"u"&&yn(`Helmet: ${e} should be of type "Array". Instead found type "${typeof s[e]}"`),!1)).map(s=>s[e]).reverse().reduce((s,a)=>{const o={};a.filter(i=>{let c;const h=Object.keys(i);for(let m=0;m<h.length;m+=1){const p=h[m],b=p.toLowerCase();t.indexOf(b)!==-1&&!(c==="rel"&&i[c].toLowerCase()==="canonical")&&!(b==="rel"&&i[b].toLowerCase()==="stylesheet")&&(c=b),t.indexOf(p)!==-1&&(p==="innerHTML"||p==="cssText"||p==="itemprop")&&(c=p)}if(!c||!i[c])return!1;const f=i[c].toLowerCase();return n[c]||(n[c]={}),o[c]||(o[c]={}),n[c][f]?!1:(o[c][f]=!0,!0)}).reverse().forEach(i=>s.push(i));const l=Object.keys(o);for(let i=0;i<l.length;i+=1){const c=l[i],h={...n[c],...o[c]};n[c]=h}return s},[]).reverse()},vn=(e,t)=>{if(Array.isArray(e)&&e.length){for(let r=0;r<e.length;r+=1)if(e[r][t])return!0}return!1},xn=e=>({baseTag:gn(["href"],e),bodyAttributes:we("bodyAttributes",e),defer:W(e,B.DEFER),encode:W(e,B.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:we("htmlAttributes",e),linkTags:G("link",["rel","href"],e),metaTags:G("meta",["name","charset","http-equiv","property","itemprop"],e),noscriptTags:G("noscript",["innerHTML"],e),onChangeClientState:pn(e),scriptTags:G("script",["src","innerHTML"],e),styleTags:G("style",["cssText"],e),title:mn(e),titleAttributes:we("titleAttributes",e),prioritizeSeoTags:vn(e,B.PRIORITIZE_SEO_TAGS)}),vt=e=>Array.isArray(e)?e.join(""):e,bn=(e,t)=>{const r=Object.keys(e);for(let n=0;n<r.length;n+=1)if(t[r[n]]&&t[r[n]].includes(e[r[n]]))return!0;return!1},Ce=(e,t)=>Array.isArray(e)?e.reduce((r,n)=>(bn(n,t)?r.priority.push(n):r.default.push(n),r),{priority:[],default:[]}):{default:e,priority:[]},Xe=(e,t)=>({...e,[t]:void 0}),wn=["noscript","script","style"],Se=(e,t=!0)=>t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),xt=e=>Object.keys(e).reduce((t,r)=>{const n=typeof e[r]<"u"?`${r}="${e[r]}"`:`${r}`;return t?`${t} ${n}`:n},""),Cn=(e,t,r,n)=>{const s=xt(r),a=vt(t);return s?`<${e} ${k}="true" ${s}>${Se(a,n)}</${e}>`:`<${e} ${k}="true">${Se(a,n)}</${e}>`},En=(e,t,r=!0)=>t.reduce((n,s)=>{const a=s,o=Object.keys(a).filter(c=>!(c==="innerHTML"||c==="cssText")).reduce((c,h)=>{const f=typeof a[h]>"u"?h:`${h}="${Se(a[h],r)}"`;return c?`${c} ${f}`:f},""),l=a.innerHTML||a.cssText||"",i=wn.indexOf(e)===-1;return`${n}<${e} ${k}="true" ${o}${i?"/>":`>${l}</${e}>`}`},""),bt=(e,t={})=>Object.keys(e).reduce((r,n)=>{const s=Me[n];return r[s||n]=e[n],r},t),Tn=(e,t,r)=>{const n={key:t,[k]:!0},s=bt(r,n);return[L.createElement("title",s,t)]},le=(e,t)=>t.map((r,n)=>{const s={key:n,[k]:!0};return Object.keys(r).forEach(a=>{const l=Me[a]||a;if(l==="innerHTML"||l==="cssText"){const i=r.innerHTML||r.cssText;s.dangerouslySetInnerHTML={__html:i}}else s[l]=r[a]}),L.createElement(e,s)}),S=(e,t,r=!0)=>{switch(e){case"title":return{toComponent:()=>Tn(e,t.title,t.titleAttributes),toString:()=>Cn(e,t.title,t.titleAttributes,r)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>bt(t),toString:()=>xt(t)};default:return{toComponent:()=>le(e,t),toString:()=>En(e,t,r)}}},jn=({metaTags:e,linkTags:t,scriptTags:r,encode:n})=>{const s=Ce(e,be.meta),a=Ce(t,be.link),o=Ce(r,be.script);return{priorityMethods:{toComponent:()=>[...le("meta",s.priority),...le("link",a.priority),...le("script",o.priority)],toString:()=>`${S("meta",s.priority,n)} ${S("link",a.priority,n)} ${S("script",o.priority,n)}`},metaTags:s.default,linkTags:a.default,scriptTags:o.default}},Sn=e=>{const{baseTag:t,bodyAttributes:r,encode:n=!0,htmlAttributes:s,noscriptTags:a,styleTags:o,title:l="",titleAttributes:i,prioritizeSeoTags:c}=e;let{linkTags:h,metaTags:f,scriptTags:m}=e,p={toComponent:()=>{},toString:()=>""};return c&&({priorityMethods:p,linkTags:h,metaTags:f,scriptTags:m}=jn(e)),{priority:p,base:S("base",t,n),bodyAttributes:S("bodyAttributes",r,n),htmlAttributes:S("htmlAttributes",s,n),link:S("link",h,n),meta:S("meta",f,n),noscript:S("noscript",a,n),script:S("script",m,n),style:S("style",o,n),title:S("title",{title:l,titleAttributes:i},n)}},Re=Sn,se=[],wt=!!(typeof window<"u"&&window.document&&window.document.createElement),ke=class{instances=[];canUseDOM=wt;context;value={setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?se:this.instances,add:e=>{(this.canUseDOM?se:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?se:this.instances).indexOf(e);(this.canUseDOM?se:this.instances).splice(t,1)}}};constructor(e,t){this.context=e,this.canUseDOM=t||!1,t||(e.helmet=Re({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},Rn={},Ct=L.createContext(Rn),kn=class Et extends d.Component{static canUseDOM=wt;helmetData;constructor(t){super(t),this.helmetData=new ke(this.props.context||{},Et.canUseDOM)}render(){return L.createElement(Ct.Provider,{value:this.helmetData.value},this.props.children)}},q=(e,t)=>{const r=document.head||document.querySelector("head"),n=r.querySelectorAll(`${e}[${k}]`),s=[].slice.call(n),a=[];let o;return t&&t.length&&t.forEach(l=>{const i=document.createElement(e);for(const c in l)if(Object.prototype.hasOwnProperty.call(l,c))if(c==="innerHTML")i.innerHTML=l.innerHTML;else if(c==="cssText")i.styleSheet?i.styleSheet.cssText=l.cssText:i.appendChild(document.createTextNode(l.cssText));else{const h=c,f=typeof l[h]>"u"?"":l[h];i.setAttribute(c,f)}i.setAttribute(k,"true"),s.some((c,h)=>(o=h,i.isEqualNode(c)))?s.splice(o,1):a.push(i)}),s.forEach(l=>l.parentNode?.removeChild(l)),a.forEach(l=>r.appendChild(l)),{oldTags:s,newTags:a}},Pe=(e,t)=>{const r=document.getElementsByTagName(e)[0];if(!r)return;const n=r.getAttribute(k),s=n?n.split(","):[],a=[...s],o=Object.keys(t);for(const l of o){const i=t[l]||"";r.getAttribute(l)!==i&&r.setAttribute(l,i),s.indexOf(l)===-1&&s.push(l);const c=a.indexOf(l);c!==-1&&a.splice(c,1)}for(let l=a.length-1;l>=0;l-=1)r.removeAttribute(a[l]);s.length===a.length?r.removeAttribute(k):r.getAttribute(k)!==o.join(",")&&r.setAttribute(k,o.join(","))},Pn=(e,t)=>{typeof e<"u"&&document.title!==e&&(document.title=vt(e)),Pe("title",t)},Qe=(e,t)=>{const{baseTag:r,bodyAttributes:n,htmlAttributes:s,linkTags:a,metaTags:o,noscriptTags:l,onChangeClientState:i,scriptTags:c,styleTags:h,title:f,titleAttributes:m}=e;Pe("body",n),Pe("html",s),Pn(f,m);const p={baseTag:q("base",r),linkTags:q("link",a),metaTags:q("meta",o),noscriptTags:q("noscript",l),scriptTags:q("script",c),styleTags:q("style",h)},b={},w={};Object.keys(p).forEach(v=>{const{newTags:x,oldTags:y}=p[v];x.length&&(b[v]=x),y.length&&(w[v]=p[v].oldTags)}),t&&t(),i(e,b,w)},Z=null,Nn=e=>{Z&&cancelAnimationFrame(Z),e.defer?Z=requestAnimationFrame(()=>{Qe(e,()=>{Z=null})}):(Qe(e),Z=null)},$n=Nn,et=class extends d.Component{rendered=!1;shouldComponentUpdate(e){return!hn(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let r=null;const n=xn(e.get().map(s=>{const a={...s.props};return delete a.context,a}));kn.canUseDOM?$n(n):Re&&(r=Re(n)),t(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},Tt=class extends d.Component{static defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1};shouldComponentUpdate(e){return!on(Xe(this.props,"helmetData"),Xe(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,r,n){return{...t,[e.type]:[...t[e.type]||[],{...r,...this.mapNestedChildrenToProps(e,n)}]}}mapObjectTypeChildren(e,t,r,n){switch(e.type){case"title":return{...t,[e.type]:n,titleAttributes:{...r}};case"body":return{...t,bodyAttributes:{...r}};case"html":return{...t,htmlAttributes:{...r}};default:return{...t,[e.type]:{...r}}}}mapArrayTypeChildrenToProps(e,t){let r={...t};return Object.keys(e).forEach(n=>{r={...r,[n]:e[n]}}),r}warnOnInvalidChildren(e,t){return Ye(Ze.some(r=>e.type===r),typeof e.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${Ze.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),Ye(!t||typeof t=="string"||Array.isArray(t)&&!t.some(r=>typeof r!="string"),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let r={};return L.Children.forEach(e,n=>{if(!n||!n.props)return;const{children:s,...a}=n.props,o=Object.keys(a).reduce((i,c)=>(i[fn[c]||c]=a[c],i),{});let{type:l}=n;switch(typeof l=="symbol"?l=l.toString():this.warnOnInvalidChildren(n,s),l){case"Symbol(react.fragment)":t=this.mapChildrenToProps(s,t);break;case"link":case"meta":case"noscript":case"script":case"style":r=this.flattenArrayTypeChildren(n,r,o,s);break;default:t=this.mapObjectTypeChildren(n,t,o,s);break}}),this.mapArrayTypeChildrenToProps(r,t)}render(){const{children:e,...t}=this.props;let r={...t},{helmetData:n}=t;if(e&&(r=this.mapChildrenToProps(e,r)),n&&!(n instanceof ke)){const s=n;n=new ke(s.context,!0),delete r.helmetData}return n?L.createElement(et,{...r,context:n.value}):L.createElement(Ct.Consumer,null,s=>L.createElement(et,{...r,context:s}))}},Ln={};const fe=Ln.NEXT_PUBLIC_API_BASE||"https://sdracker.onrender.com";async function On(e=1){const t=await fetch(`${fe}/api/blog/posts/?page=${e}`);if(!t.ok)throw new Error("Ошибка загрузки постов");return await t.json()}async function An(e){const t=await fetch(`${fe}/api/blog/posts/${e}/`);if(!t.ok)throw new Error("Ошибка загрузки поста");return await t.json()}async function _n(e){const t=await fetch(`${fe}/api/blog/reactions/toggle/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({post_slug:e})});if(!t.ok)throw new Error("Ошибка реакции");return await t.json()}async function In(e){const t=await fetch(`${fe}/api/blog/reactions/detail/?post_slug=${e}`);if(!t.ok)throw new Error("Ошибка лайков");return await t.json()}const Mn=({post:e})=>u.jsxs("article",{className:"post-card",children:[e.featured_image&&u.jsx(R,{to:`/blog/${e.slug}`,children:u.jsx("img",{className:"media",src:e.featured_image,alt:e.title})}),u.jsxs("div",{className:"body",children:[u.jsx("h2",{children:u.jsx(R,{to:`/blog/${e.slug}`,children:e.title})}),u.jsx("p",{className:"excerpt",dangerouslySetInnerHTML:{__html:e.excerpt}}),u.jsxs("div",{className:"meta",children:[u.jsx("time",{children:new Date(e.published_at).toLocaleDateString()}),e.categories?.length>0&&u.jsx("span",{className:"categories",children:e.categories.map(t=>t.title).join(", ")})]})]})]}),Dn=()=>{const[e,t]=d.useState([]),[r,n]=d.useState(1),[s,a]=d.useState(0),[o,l]=d.useState(!0);return d.useEffect(()=>{l(!0),On(r).then(i=>{t(i.results),a(i.count),l(!1)}).catch(()=>l(!1))},[r]),u.jsxs("div",{className:"blog-list",children:[u.jsxs(Tt,{children:[u.jsx("title",{children:"Блог | Self Development Tracker"}),u.jsx("meta",{name:"description",content:"Читайте статьи о саморазвитии, продуктивности и современных практиках."})]}),u.jsx("h1",{children:"Блог"}),o&&u.jsx("p",{children:"Загрузка..."}),!o&&e.length===0&&u.jsx("p",{children:"Нет постов"}),e.map(i=>u.jsx(Mn,{post:i},i.id)),u.jsxs("div",{className:"pagination",children:[r>1&&u.jsx("button",{onClick:()=>n(r-1),children:"Назад"}),r*10<s&&u.jsx("button",{onClick:()=>n(r+1),children:"Вперёд"})]})]})},jt=({postId:e,parentId:t=null,onSubmitted:r})=>{const[n,s]=d.useState(""),[a,o]=d.useState(""),[l,i]=d.useState(""),[c,h]=d.useState(!1),f=async m=>{if(m.preventDefault(),!l.trim()||!n.trim())return;h(!0);const p=await fetch("/api/blog/comments/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({post:e,parent:t,name:n,email:a,content:l})});h(!1),p.ok?(i(""),r()):alert("Ошибка при отправке комментария")};return u.jsxs("form",{onSubmit:f,className:"comment-form",children:[u.jsx("input",{type:"text",placeholder:"Имя*",value:n,onChange:m=>s(m.target.value),required:!0}),u.jsx("input",{type:"email",placeholder:"Email (необязательно)",value:a,onChange:m=>o(m.target.value)}),u.jsx("textarea",{placeholder:"Ваш комментарий...",value:l,onChange:m=>i(m.target.value),required:!0}),u.jsx("button",{type:"submit",disabled:c,children:c?"Отправка...":"Отправить"})]})},St=({comment:e,postId:t,onRefresh:r})=>{const[n,s]=d.useState(!1);return u.jsxs("div",{className:"comment",children:[u.jsxs("p",{children:[u.jsx("strong",{children:e.user||e.name}),":"," ",u.jsx("span",{dangerouslySetInnerHTML:{__html:e.content}})]}),u.jsx("small",{children:new Date(e.created_at).toLocaleString()}),u.jsx("div",{children:u.jsx("button",{onClick:()=>s(!n),children:n?"Отмена":"Ответить"})}),n&&u.jsx(jt,{postId:t,parentId:e.id,onSubmitted:()=>{s(!1),r()}}),e.replies?.length>0&&u.jsx("div",{className:"replies",children:e.replies.map(a=>u.jsx(St,{comment:a,postId:t,onRefresh:r},a.id))})]})},Fn=({post:e})=>{const[t,r]=d.useState([]),[n,s]=d.useState(!0),a=async()=>{s(!0);const o=await fetch(`/api/blog/comments/?post=${e.id}`);if(o.ok){const l=await o.json();r(l)}s(!1)};return d.useEffect(()=>{a()},[e.id]),u.jsxs("section",{className:"comments",children:[u.jsx("h2",{children:"Комментарии"}),n&&u.jsx("p",{children:"Загрузка комментариев..."}),!n&&t.length===0&&u.jsx("p",{children:"Комментариев пока нет."}),t.map(o=>u.jsx(St,{comment:o,postId:e.id,onRefresh:a},o.id)),u.jsx("h3",{children:"Оставить комментарий"}),u.jsx(jt,{postId:e.id,onSubmitted:a})]})},Hn=()=>{const{slug:e}=ur(),[t,r]=d.useState(null),[n,s]=d.useState(0),[a,o]=d.useState(!0);return d.useEffect(()=>{e&&(o(!0),An(e).then(l=>(r(l),o(!1),In(l.slug))).then(l=>s(l.likes_count)).catch(()=>o(!1)))},[e]),a?u.jsx("p",{children:"Загрузка..."}):t?u.jsxs("article",{className:"blog-post",children:[u.jsxs(Tt,{children:[u.jsx("title",{children:t.meta_title}),u.jsx("meta",{name:"description",content:t.meta_description}),t.og_image&&u.jsx("meta",{property:"og:image",content:t.og_image})]}),t.featured_image&&u.jsx("img",{src:t.featured_image,alt:t.title,className:"post-image"}),u.jsx("h1",{children:t.title}),u.jsx("time",{children:new Date(t.published_at).toLocaleDateString()}),u.jsx("div",{dangerouslySetInnerHTML:{__html:t.content}}),u.jsx("div",{className:"likes",children:u.jsxs("button",{onClick:async()=>{const l=await _n(t.slug);s(l.likes_count)},children:["❤️ ",n]})}),u.jsx(Fn,{post:t})]}):u.jsx("p",{children:"Пост не найден"})};class Un{baseUrl;constructor(){this.baseUrl=void 0,!this.baseUrl&&window.location.hostname==="localhost"&&(this.baseUrl="https://sdracker.onrender.com"),this.baseUrl||(this.baseUrl="https://sdracker.onrender.com")}async request(t,r={}){const n=localStorage.getItem("accessToken"),s={"Content-Type":"application/json",...n?{Authorization:`Bearer ${n}`}:{}},a=this.baseUrl!==window.location.origin?"include":"same-origin";try{const o=await fetch(`${this.baseUrl}${t}`,{headers:s,...r,mode:"cors",credentials:a});if(o.status===401)throw localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),window.location.href="/login",new Error("Authentication required");if(!o.ok){const l=await o.text();let i;try{i=JSON.parse(l)}catch{i={error:l||`HTTP error! status: ${o.status}`}}throw new Error(i.error||i.message||`HTTP error! status: ${o.status}`)}return o.status===204?{}:o.json()}catch(o){throw o instanceof TypeError&&o.message==="Failed to fetch"?new Error("Network error: Unable to connect to server. Please check your internet connection and try again."):o}}async login(t,r){const n=await this.request("/api/auth/login/",{method:"POST",body:JSON.stringify({email:t,password:r})});return n.tokens?.access&&(localStorage.setItem("accessToken",n.tokens.access),localStorage.setItem("refreshToken",n.tokens.refresh)),n}async register(t){const r=await this.request("/api/auth/register/",{method:"POST",body:JSON.stringify({email:t.email,password:t.password,username:t.username||t.email.split("@")[0],first_name:t.first_name,last_name:t.last_name,phone:t.phone})});return r.tokens?.access&&(localStorage.setItem("accessToken",r.tokens.access),localStorage.setItem("refreshToken",r.tokens.refresh)),r}async getProfile(){return this.request("/api/auth/profile/")}async getTables(){return this.request("/api/tables/tables/")}async getTable(t){return this.request(`/api/tables/tables/${t}/`)}async createTable(t){return this.request("/api/tables/tables/",{method:"POST",body:JSON.stringify(t)})}async updateTable(t,r){return this.request(`/api/tables/tables/${t}/`,{method:"PATCH",body:JSON.stringify(r)})}async deleteTable(t){await this.request(`/api/tables/tables/${t}/`,{method:"DELETE"})}async updateProgress(t,r,n){return this.request(`/api/tables/tables/${t}/update_progress/`,{method:"POST",body:JSON.stringify({date:r,data:n})})}async getChartData(t,r,n){let s=`/api/tables/tables/${t}/progress_chart_data/`;const a=new URLSearchParams;return r&&a.append("start_date",r),n&&a.append("end_date",n),a.toString()&&(s+=`?${a.toString()}`),this.request(s)}async addCategory(t,r){return this.request(`/api/tables/tables/${t}/add_category/`,{method:"POST",body:JSON.stringify({name:r})})}async removeCategory(t,r){return this.request(`/api/tables/tables/${t}/remove_category/`,{method:"POST",body:JSON.stringify({category_id:r})})}async renameCategory(t,r,n){return this.request(`/api/tables/tables/${t}/rename_category/`,{method:"POST",body:JSON.stringify({category_id:r,new_name:n})})}}const X=new Un,qn=()=>{const e=de(),[t,r]=d.useState(""),[n,s]=d.useState(""),[a,o]=d.useState(""),l=async i=>{i.preventDefault(),o("");try{await X.login(t,n),e("/dashboard")}catch(c){o(c.message||"Ошибка входа")}};return u.jsxs("div",{className:"auth-container",children:[u.jsx("h2",{children:"Вход"}),u.jsxs("form",{onSubmit:l,children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Email"}),u.jsx("input",{type:"email",value:t,onChange:i=>r(i.target.value),required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Пароль"}),u.jsx("input",{type:"password",value:n,onChange:i=>s(i.target.value),required:!0})]}),a&&u.jsx("p",{className:"error",children:a}),u.jsx("button",{type:"submit",children:"Войти"})]}),u.jsxs("p",{children:["Нет аккаунта? ",u.jsx("a",{href:"/register",children:"Зарегистрироваться"})]})]})},Bn=()=>{const e=de(),[t,r]=d.useState(""),[n,s]=d.useState(""),[a,o]=d.useState(""),[l,i]=d.useState(""),c=async h=>{h.preventDefault(),i("");try{await X.register({email:t,username:n,password:a}),e("/dashboard")}catch(f){i(f.message||"Ошибка регистрации")}};return u.jsxs("div",{className:"auth-container",children:[u.jsx("h2",{children:"Регистрация"}),u.jsxs("form",{onSubmit:c,children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Email"}),u.jsx("input",{type:"email",value:t,onChange:h=>r(h.target.value),required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Имя пользователя"}),u.jsx("input",{type:"text",value:n,onChange:h=>s(h.target.value),required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Пароль"}),u.jsx("input",{type:"password",value:a,onChange:h=>o(h.target.value),required:!0})]}),l&&u.jsx("p",{className:"error",children:l}),u.jsx("button",{type:"submit",children:"Зарегистрироваться"})]}),u.jsxs("p",{children:["Уже есть аккаунт? ",u.jsx("a",{href:"/login",children:"Войти"})]})]})};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Jn=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),tt=e=>{const t=Jn(e);return t.charAt(0).toUpperCase()+t.slice(1)},Rt=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),zn=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Vn={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=d.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:o,...l},i)=>d.createElement("svg",{ref:i,...Vn,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Rt("lucide",s),...!a&&!zn(l)&&{"aria-hidden":"true"},...l},[...o.map(([c,h])=>d.createElement(c,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=(e,t)=>{const r=d.forwardRef(({className:n,...s},a)=>d.createElement(Kn,{ref:a,iconNode:t,className:Rt(`lucide-${Wn(tt(e))}`,`lucide-${e}`,n),...s}));return r.displayName=tt(e),r};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Gn=H("chart-column",Yn);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Xn=H("crown",Zn);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],ea=H("pen-line",Qn);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ra=H("plus",ta);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],aa=H("refresh-cw",na);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],oa=H("trash-2",sa);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],la=H("trending-up",ia),ua=d.createContext(void 0),ca=()=>{const e=d.useContext(ua);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},da=()=>{const[e,t]=d.useState([]),[r,n]=d.useState(!0),[s,a]=d.useState(null),[o,l]=d.useState(!1),[i,c]=d.useState(""),{profile:h}=ca();d.useEffect(()=>{f()},[]);const f=async()=>{try{n(!0),a(null);const g=await X.getTables();Array.isArray(g)?t(g):(console.error("Expected array but got:",g),a("Неверный формат данных от сервера"),t([]))}catch(g){console.error("Failed to load tables:",g),a("Не удалось загрузить таблицы. Проверьте подключение к серверу."),t([])}finally{n(!1)}},m=async()=>{if(i.trim())try{a(null);const g=await X.createTable({title:i.trim()});g?(t([...e,g]),c(""),l(!1)):a("Не удалось создать таблицу")}catch(g){console.error("Failed to create table:",g),a(g.message||"Ошибка при создании таблицы")}},p=async g=>{if(confirm("Вы уверены, что хотите удалить эту таблицу?"))try{a(null),await X.deleteTable(g),t(e.filter(E=>E.id!==g))}catch(E){console.error("Failed to delete table:",E),a(E.message||"Ошибка при удалении таблицы")}},b=g=>g===0?"bg-gray-200":g<=33?"bg-red-500":g<=66?"bg-yellow-500":"bg-green-500",w=g=>{if(!g.progress_entries||!g.progress_entries.length)return 0;const E=new Date().toISOString().split("T")[0],j=g.progress_entries.find(T=>T.date===E);if(!j)return 0;const D=Object.values(j.data),F=D.reduce((T,_)=>T+_,0),U=D.length*99;return Math.round(F/U*100)};if(r)return u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});const v=e.length<(h?.tables_limit||1),x=e.length,y=h?.tables_limit||1;return u.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[u.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg p-6 text-white mb-8",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Мои таблицы прогресса"}),u.jsx("p",{className:"opacity-90",children:h?.subscription_active?u.jsxs("span",{className:"flex items-center",children:[u.jsx(Xn,{className:"h-5 w-5 mr-2"}),"Премиум-тариф (до ",y," таблиц)"]}):`Бесплатный тариф (до ${y} таблиц)`})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:"flex items-center justify-end mb-2",children:[u.jsx("span",{className:"text-2xl font-bold mr-2",children:x}),u.jsxs("span",{className:"opacity-90",children:["/ ",y]})]}),u.jsx("div",{className:"w-32 h-3 bg-white bg-opacity-20 rounded-full",children:u.jsx("div",{className:"h-full bg-white rounded-full transition-all duration-300",style:{width:`${x/y*100}%`}})})]})]})}),s&&u.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6 flex justify-between items-center",children:[u.jsx("span",{children:s}),u.jsxs("button",{onClick:f,className:"text-red-800 font-semibold hover:text-red-900 flex items-center",children:[u.jsx(aa,{className:"h-4 w-4 mr-1"}),"Обновить"]})]}),u.jsx("div",{className:"flex justify-end mb-6",children:u.jsxs("button",{onClick:()=>l(!0),disabled:!v,className:"btn-primary flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(ra,{className:"h-5 w-5 mr-2"}),"Новая таблица"]})}),!v&&u.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:u.jsx("p",{className:"text-yellow-800",children:h?.subscription_active?"Достигнут лимит таблиц. Рассмотрите возможность удаления старых таблиц.":"Достигнут лимит таблиц для бесплатного аккаунта. Перейдите на премиум для создания большего количества таблиц."})}),e.length===0?u.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[u.jsx(la,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"У вас пока нет таблиц прогресса"}),u.jsx("button",{onClick:()=>l(!0),className:"btn-primary",children:"Создать первую таблицу"})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(g=>{const E=w(g);return u.jsxs("div",{className:"bg-white rounded-lg shadow hover:shadow-md transition-shadow",children:[u.jsx("div",{className:"h-2 bg-gray-200 rounded-t-lg",children:u.jsx("div",{className:`h-full rounded-t-lg ${b(E)}`,style:{width:`${E}%`}})}),u.jsxs("div",{className:"p-6",children:[u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:g.title}),u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("span",{className:"text-sm text-gray-600",children:[g.categories?.length||0," категорий"]}),u.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[E,"% заполнено"]})]}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsxs(R,{to:`/table/${g.id}`,className:"btn-primary flex-1 text-center",children:[u.jsx(ea,{className:"h-4 w-4 inline mr-1"}),"Редактировать"]}),u.jsx(R,{to:`/diagram/${g.id}`,className:"btn-secondary flex items-center justify-center",children:u.jsx(Gn,{className:"h-4 w-4"})}),u.jsx("button",{onClick:()=>p(g.id),className:"btn-secondary text-red-600 hover:bg-red-50",children:u.jsx(oa,{className:"h-4 w-4"})})]})]})]},g.id)})}),o&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg p-6 w-96",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"Создать новую таблицу"}),u.jsx("input",{type:"text",value:i,onChange:g=>c(g.target.value),placeholder:"Название таблицы",className:"input-field mb-4",onKeyPress:g=>g.key==="Enter"&&m()}),u.jsxs("div",{className:"flex justify-end space-x-3",children:[u.jsx("button",{onClick:()=>l(!1),className:"btn-secondary",children:"Отмена"}),u.jsx("button",{onClick:m,disabled:!i.trim(),className:"btn-primary disabled:opacity-50",children:"Создать"})]})]})})]})},ha=()=>!!localStorage.getItem("accessToken"),fa=({children:e})=>ha()?u.jsx(u.Fragment,{children:e}):u.jsx(Te,{to:"/login",replace:!0}),ma=()=>u.jsxs("div",{className:"app",children:[u.jsx(nn,{}),u.jsx("main",{children:u.jsxs(Tr,{children:[u.jsx(I,{path:"/",element:u.jsx(Te,{to:"/blog",replace:!0})}),u.jsx(I,{path:"/blog",element:u.jsx(Dn,{})}),u.jsx(I,{path:"/blog/:slug",element:u.jsx(Hn,{})}),u.jsx(I,{path:"/login",element:u.jsx(qn,{})}),u.jsx(I,{path:"/register",element:u.jsx(Bn,{})}),u.jsx(I,{path:"/dashboard",element:u.jsx(fa,{children:u.jsx(da,{})})}),u.jsx(I,{path:"*",element:u.jsx(Te,{to:"/blog",replace:!0})})]})})]});Ot.createRoot(document.getElementById("root")).render(u.jsx(L.StrictMode,{children:u.jsx(Vr,{children:u.jsx(ma,{})})}));
